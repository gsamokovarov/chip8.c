struct chip8 {
  unsigned short opcode;
  unsigned char  memory[4096];
  unsigned char  general_purpose_registers[16];
  unsigned short index_register;
  unsigned short program_counter;
  unsigned char  screen[64 * 32];
  unsigned char  delay_timer;
  unsigned char  sound_timer;
  unsigned short stack[16];
  unsigned short stack_pointer;
  unsigned char  keys[16];
};

typedef struct chip8 chip8_t;

unsigned char chip8_hex_font[80] = {
  0xF0, // 1111 0000
  0x90, // 1001 0000
  0x90, // 1001 0000
  0x90, // 1001 0000
  0xF0, // 1111 0000

  0x20, // 0010 0000
  0x60, // 0110 0000
  0x20, // 0010 0000
  0x20, // 0010 0000
  0xF0, // 1111 0000

  0xF0, // 1111 0000
  0x10, // 0001 0000
  0xF0, // 1111 0000
  0x80, // 1000 0000
  0xF0, // 1111 0000

  0xF0, // 1111 0000
  0x10, // 0001 0000
  0xF0, // 1111 0000
  0x10, // 0001 0000
  0xF0, // 1111 0000

  0x90, // 1001 0000
  0x90, // 1001 0000
  0xF0, // 1111 0000
  0x10, // 0001 0000
  0x10, // 0001 0000

  0xF0, // 1111 0000
  0x80, // 1000 0000
  0xF0, // 1111 0000
  0x10, // 0001 0000
  0xF0, // 1111 0000

  0xF0, // 1111 0000
  0x80, // 1000 0000
  0xF0, // 1111 0000
  0x90, // 1001 0000
  0xF0, // 1111 0000

  0xF0, // 1111 0000
  0x10, // 0001 0000
  0x20, // 0010 0000
  0x40, // 0100 0000
  0x40, // 0100 0000

  0xF0, // 1111 0000
  0x90, // 1001 0000
  0xF0, // 1111 0000
  0x90, // 1001 0000
  0xF0, // 1111 0000

  0xF0, // 1111 0000
  0x90, // 1001 0000
  0xF0, // 1111 0000
  0x10, // 0001 0000
  0x10, // 0001 0000

  0xF0, // 1111 0000
  0x90, // 1001 0000
  0xF0, // 1111 0000
  0x90, // 1001 0000
  0x90, // 1001 0000

  0xE0, // 1110 0000
  0x90, // 1001 0000
  0xE0, // 1110 0000
  0x90, // 1001 0000
  0xE0, // 1110 0000

  0xF0, // 1111 0000
  0x80, // 1000 0000
  0x80, // 1000 0000
  0x80, // 1000 0000
  0xF0, // 1111 0000

  0xE0, // 1110 0000
  0x90, // 1001 0000
  0x90, // 1001 0000
  0x90, // 1001 0000
  0xE0, // 1110 0000

  0xF0, // 1111 0000
  0x80, // 1000 0000
  0xF0, // 1111 0000
  0x80, // 1000 0000
  0xF0, // 1111 0000

  0xF0, // 1111 0000
  0x80, // 1000 0000
  0xF0, // 1111 0000
  0x80, // 1000 0000
  0x80, // 1000 0000
};

chip8_t * chip8_new(void);
void chip8_free(chip8_t *);
